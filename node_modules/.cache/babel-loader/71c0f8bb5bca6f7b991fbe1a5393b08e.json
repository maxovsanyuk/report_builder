{"ast":null,"code":"var _jsxFileName = \"/Users/admin/UDS/addons-reportbuilder/src/components/Workspace/Workspace.js\";\nimport React, { memo, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Widget } from \"./Widget\";\nimport { Dustbin } from \"./Dustbin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { showAlert, sideBarHandleOpen, setNewDataSetState, savedNewDataSetSettings, savedNewParametersSetSettings } from \"../../redux/actions/app_action\"; // DND\n\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\"; // MATERIAL UI\n\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\nimport RemoveOutlinedIcon from \"@material-ui/icons/RemoveOutlined\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nconst WidgetsToolBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 165px;\n  max-width: 165px;\n  height: 100%;\n  position: absolute;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background: #fff;\n  left: -166px;\n  top: 0;\n  z-index: 80;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  .input-wrapper {\n    position: relative;\n    background: dodgerblue;\n    .input-icon {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-40%) scale(0.7);\n      right: 5px;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .search-wg-input {\n      width: 100%;\n      padding: 10px 25px 10px 10px;\n      border: none;\n      border-bottom: 1px solid #ccc;\n\n      &:focus {\n        outline: 0 solid #ccc;\n      }\n    }\n  }\n`;\nconst WidgetInfoComponent = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 150px;\n  height: 100px;\n  background: #fff;\n  box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.2);\n  border: 1px solid silver;\n  border-radius: 2px;\n  color: #000;\n  z-index: 90;\n  padding: 20px;\n  transition: 0.5s;\n`;\nconst toolBarCfg = [{\n  title: \"Basic items\",\n  widgetsList: [{\n    name: \"text\"\n  }, {\n    name: \"image\",\n    basicSettings: {\n      name: \"Source\",\n      value: null\n    },\n    linkTo: null,\n    appearence: {\n      border: null\n    },\n    size: {\n      sizing: null\n    },\n    position: null\n  }, {\n    name: \"line\"\n  }, {\n    name: \"rectangle\"\n  }]\n}, {\n  title: \"Comparison\",\n  widgetsList: [{\n    name: \"column\"\n  }, {\n    name: \"bar\"\n  }, {\n    name: \"stacked-column\"\n  }, {\n    name: \"stacked-bar\"\n  }, {\n    name: \"stacked-column-100\"\n  }, {\n    name: \"stacked-bar-100\"\n  }]\n}, {\n  title: \"Data regions\",\n  widgetsList: [{\n    name: \"table\"\n  }, {\n    name: \"list\"\n  }]\n}, {\n  title: \"KPI\",\n  widgetsList: [{\n    name: \"data-bar\"\n  }, {\n    name: \"sparkline\"\n  }, {\n    name: \"indicator\"\n  }]\n}, {\n  title: \"Deviation\",\n  widgetsList: [{\n    name: \"radial-gauge\"\n  }, {\n    name: \"linear-gauge\"\n  }]\n}, {\n  title: \"Proportion\",\n  widgetsList: [{\n    name: \"pie\"\n  }, {\n    name: \"exploded-pie\"\n  }, {\n    name: \"doughnut\"\n  }, {\n    name: \"pyramid\"\n  }, {\n    name: \"funnel\"\n  }]\n}, {\n  title: \"Distribution\",\n  widgetsList: [{\n    name: \"area\"\n  }, {\n    name: \"smooth-area\"\n  }, {\n    name: \"stacked-area\"\n  }, {\n    name: \"stacked-area-100\"\n  }, {\n    name: \"line-d\"\n  }, {\n    name: \"smooth-line\"\n  }, {\n    name: \"stepped-line\"\n  }, {\n    name: \"line-with-markers\"\n  }, {\n    name: \"smoothLine-with-markers\"\n  }, {\n    name: \"bubble\"\n  }, {\n    name: \"polar\"\n  }, {\n    name: \"scatter\"\n  }, {\n    name: \"radar\"\n  }]\n}, {\n  title: \"SubReports\",\n  widgetsList: [{\n    name: \"subReports\"\n  }]\n}, {\n  title: \"Barcodes\",\n  widgetsList: [{\n    name: \"1D-Barcode\"\n  }, {\n    name: \"QR-Barcode\"\n  }]\n}];\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: ${({\n  zIndex\n}) => zIndex};\n\n  .title-box {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: relative;\n    z-index: 90;\n    background: #fff;\n    transition: 0.3s;\n    margin: 0 0 2px 0;\n    &:hover {\n      transition: 0.3s;\n      background: gainsboro;\n      color: dodgerblue;\n      cursor: pointer;\n    }\n  }\n\n  .title {\n    font-size: 12px;\n    margin: 10px 0 10px 10px;\n  }\n\n  .btns-box {\n    margin: 0 5px 0 0;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .widgets-box {\n    display: ${({\n  isOpen\n}) => isOpen ? \"flex\" : \"none\"};\n    position: relative;\n    flex-wrap: wrap;\n    background: #fff;\n    margin: 0 0 0 12px;\n    animation: appearingComp 0.5s ease-in-out 0s 1 normal forwards;\n\n    @keyframes appearingComp {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        margin-top: 0;\n      }\n    }\n  }\n`;\n\nconst ToolbarRow = ({\n  toolData,\n  zIndex,\n  searchValue,\n  setCurrentWgInfo\n}) => {\n  var _toolData$widgetsList;\n\n  const [isOpen, setIsOpen] = useState(false);\n  useEffect(() => {\n    setIsOpen(!!searchValue);\n  }, [searchValue]);\n  return /*#__PURE__*/React.createElement(Row, {\n    zIndex: zIndex,\n    isOpen: isOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"sapn\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 9\n    }\n  }, toolData === null || toolData === void 0 ? void 0 : toolData.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btns-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }, isOpen ? /*#__PURE__*/React.createElement(RemoveOutlinedIcon, {\n    onClick: () => setIsOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(AddOutlinedIcon, {\n    onClick: () => setIsOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widgets-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }, toolData === null || toolData === void 0 ? void 0 : (_toolData$widgetsList = toolData.widgetsList) === null || _toolData$widgetsList === void 0 ? void 0 : _toolData$widgetsList.map((w, i) => {\n    var _w$name;\n\n    if (!searchValue) {\n      return /*#__PURE__*/React.createElement(Widget, {\n        key: w.name,\n        wgConfig: w,\n        setCurrentWgInfo: setCurrentWgInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 15\n        }\n      });\n    }\n\n    return searchValue && (w === null || w === void 0 ? void 0 : (_w$name = w.name) === null || _w$name === void 0 ? void 0 : _w$name.startsWith(searchValue)) ? /*#__PURE__*/React.createElement(Widget, {\n      key: w.name,\n      name: w.name,\n      setCurrentWgInfo: setCurrentWgInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }) : null;\n  })));\n};\n\nconst Container = memo(function Container() {\n  const [searchValue, setSearchValue] = useState();\n  const [currentWgInfo, setCurrentWgInfo] = useState();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dustbin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WidgetInfoComponent, {\n    style: {\n      opacity: currentWgInfo ? 1 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }\n  }, currentWgInfo), /*#__PURE__*/React.createElement(WidgetsToolBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    id: \"search-input\",\n    placeholder: \"Search Widgets\",\n    className: \"search-wg-input\",\n    onChange: e => setSearchValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"search-input\",\n    className: \"input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  }))), toolBarCfg.map((t, i) => {\n    return /*#__PURE__*/React.createElement(ToolbarRow, {\n      key: t.title,\n      toolData: t,\n      zIndex: 50 - i,\n      searchValue: searchValue,\n      setCurrentWgInfo: setCurrentWgInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }\n    });\n  })));\n});\nconst WorkSpaceComp = styled.div`\n  width: calc(100% - 120px);\n  height: calc(100% - 60px);\n  position: relative;\n  z-index: 80;\n  background: #eee;\n  margin: 60px 0 0 0;\n`;\nconst AlertCont = styled.div`\n  position: fixed;\n  top: 10px;\n  z-index: 100;\n  animation: appearingBar 0.4s ease-in-out 0s 1 normal forwards;\n\n  @keyframes appearingBar {\n    0% {\n      right: -100px;\n    }\n    100% {\n      right: 70px;\n    }\n  }\n`;\n\nconst Workspace = () => {\n  const state = useSelector(state => state.app);\n  const {\n    isOpenSideBar,\n    isSavedNewDataSetData,\n    isSavedNewParametersData,\n    isShownAlert\n  } = state;\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WorkSpaceComp, {\n    onClick: () => {\n      isOpenSideBar && dispatch(isSavedNewDataSetData && isSavedNewParametersData ? sideBarHandleOpen(false) : dispatch(showAlert(true)));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DndProvider, {\n    backend: HTML5Backend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 11\n    }\n  }))), isShownAlert && /*#__PURE__*/React.createElement(AlertCont, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 11\n    }\n  }, !isSavedNewParametersData && \"Please save new parameters set\", !isSavedNewDataSetData && \"Please save new  data set\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"secondary\",\n    style: {\n      margin: \"0 0 0 10px\"\n    },\n    onClick: () => {\n      dispatch(sideBarHandleOpen(false));\n      dispatch(showAlert(false));\n      dispatch(setNewDataSetState({}));\n      dispatch(savedNewDataSetSettings(true));\n      dispatch(savedNewParametersSetSettings(true));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 13\n    }\n  }, \"remove\"))));\n};\n\nexport default Workspace;","map":{"version":3,"sources":["/Users/admin/UDS/addons-reportbuilder/src/components/Workspace/Workspace.js"],"names":["React","memo","useEffect","useState","styled","Widget","Dustbin","useDispatch","useSelector","showAlert","sideBarHandleOpen","setNewDataSetState","savedNewDataSetSettings","savedNewParametersSetSettings","DndProvider","HTML5Backend","AddOutlinedIcon","RemoveOutlinedIcon","Alert","Button","SearchIcon","WidgetsToolBar","div","WidgetInfoComponent","toolBarCfg","title","widgetsList","name","basicSettings","value","linkTo","appearence","border","size","sizing","position","Row","zIndex","isOpen","ToolbarRow","toolData","searchValue","setCurrentWgInfo","setIsOpen","map","w","i","startsWith","Container","setSearchValue","currentWgInfo","opacity","e","target","t","WorkSpaceComp","AlertCont","Workspace","state","app","isOpenSideBar","isSavedNewDataSetData","isSavedNewParametersData","isShownAlert","dispatch","margin"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\n\nimport styled from \"styled-components\";\n\nimport { Widget } from \"./Widget\";\nimport { Dustbin } from \"./Dustbin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  showAlert,\n  sideBarHandleOpen,\n  setNewDataSetState,\n  savedNewDataSetSettings,\n  savedNewParametersSetSettings,\n} from \"../../redux/actions/app_action\";\n\n// DND\n\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\n// MATERIAL UI\n\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\nimport RemoveOutlinedIcon from \"@material-ui/icons/RemoveOutlined\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst WidgetsToolBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 165px;\n  max-width: 165px;\n  height: 100%;\n  position: absolute;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background: #fff;\n  left: -166px;\n  top: 0;\n  z-index: 80;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  .input-wrapper {\n    position: relative;\n    background: dodgerblue;\n    .input-icon {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-40%) scale(0.7);\n      right: 5px;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .search-wg-input {\n      width: 100%;\n      padding: 10px 25px 10px 10px;\n      border: none;\n      border-bottom: 1px solid #ccc;\n\n      &:focus {\n        outline: 0 solid #ccc;\n      }\n    }\n  }\n`;\n\nconst WidgetInfoComponent = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 150px;\n  height: 100px;\n  background: #fff;\n  box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.2);\n  border: 1px solid silver;\n  border-radius: 2px;\n  color: #000;\n  z-index: 90;\n  padding: 20px;\n  transition: 0.5s;\n`;\n\nconst toolBarCfg = [\n  {\n    title: \"Basic items\",\n    widgetsList: [\n      { name: \"text\" },\n      {\n        name: \"image\",\n        basicSettings: { name: \"Source\", value: null },\n        linkTo: null,\n        appearence: { border: null },\n        size: {\n          sizing: null,\n        },\n        position: null,\n      },\n      { name: \"line\" },\n      { name: \"rectangle\" },\n    ],\n  },\n  {\n    title: \"Comparison\",\n    widgetsList: [\n      { name: \"column\" },\n      { name: \"bar\" },\n      { name: \"stacked-column\" },\n      { name: \"stacked-bar\" },\n      { name: \"stacked-column-100\" },\n      { name: \"stacked-bar-100\" },\n    ],\n  },\n  {\n    title: \"Data regions\",\n    widgetsList: [{ name: \"table\" }, { name: \"list\" }],\n  },\n\n  {\n    title: \"KPI\",\n    widgetsList: [\n      { name: \"data-bar\" },\n      { name: \"sparkline\" },\n      { name: \"indicator\" },\n    ],\n  },\n\n  {\n    title: \"Deviation\",\n    widgetsList: [{ name: \"radial-gauge\" }, { name: \"linear-gauge\" }],\n  },\n\n  {\n    title: \"Proportion\",\n    widgetsList: [\n      { name: \"pie\" },\n      { name: \"exploded-pie\" },\n      { name: \"doughnut\" },\n      { name: \"pyramid\" },\n      { name: \"funnel\" },\n    ],\n  },\n\n  {\n    title: \"Distribution\",\n    widgetsList: [\n      { name: \"area\" },\n      { name: \"smooth-area\" },\n      { name: \"stacked-area\" },\n      { name: \"stacked-area-100\" },\n      { name: \"line-d\" },\n      { name: \"smooth-line\" },\n      { name: \"stepped-line\" },\n      { name: \"line-with-markers\" },\n      { name: \"smoothLine-with-markers\" },\n      { name: \"bubble\" },\n      { name: \"polar\" },\n      { name: \"scatter\" },\n      { name: \"radar\" },\n    ],\n  },\n  {\n    title: \"SubReports\",\n    widgetsList: [{ name: \"subReports\" }],\n  },\n\n  {\n    title: \"Barcodes\",\n    widgetsList: [{ name: \"1D-Barcode\" }, { name: \"QR-Barcode\" }],\n  },\n];\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: ${({ zIndex }) => zIndex};\n\n  .title-box {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: relative;\n    z-index: 90;\n    background: #fff;\n    transition: 0.3s;\n    margin: 0 0 2px 0;\n    &:hover {\n      transition: 0.3s;\n      background: gainsboro;\n      color: dodgerblue;\n      cursor: pointer;\n    }\n  }\n\n  .title {\n    font-size: 12px;\n    margin: 10px 0 10px 10px;\n  }\n\n  .btns-box {\n    margin: 0 5px 0 0;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .widgets-box {\n    display: ${({ isOpen }) => (isOpen ? \"flex\" : \"none\")};\n    position: relative;\n    flex-wrap: wrap;\n    background: #fff;\n    margin: 0 0 0 12px;\n    animation: appearingComp 0.5s ease-in-out 0s 1 normal forwards;\n\n    @keyframes appearingComp {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        margin-top: 0;\n      }\n    }\n  }\n`;\n\nconst ToolbarRow = ({ toolData, zIndex, searchValue, setCurrentWgInfo }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    setIsOpen(!!searchValue);\n  }, [searchValue]);\n\n  return (\n    <Row zIndex={zIndex} isOpen={isOpen}>\n      <div className=\"title-box\">\n        <sapn className=\"title\">{toolData?.title}</sapn>\n\n        <div className=\"btns-box\">\n          {isOpen ? (\n            <RemoveOutlinedIcon onClick={() => setIsOpen(false)} />\n          ) : (\n            <AddOutlinedIcon onClick={() => setIsOpen(true)} />\n          )}\n        </div>\n      </div>\n\n      <div className=\"widgets-box\">\n        {toolData?.widgetsList?.map((w, i) => {\n          if (!searchValue) {\n            return (\n              <Widget\n                key={w.name}\n                wgConfig={w}\n                setCurrentWgInfo={setCurrentWgInfo}\n              />\n            );\n          }\n\n          return searchValue && w?.name?.startsWith(searchValue) ? (\n            <Widget\n              key={w.name}\n              name={w.name}\n              setCurrentWgInfo={setCurrentWgInfo}\n            />\n          ) : null;\n        })}\n      </div>\n    </Row>\n  );\n};\n\nconst Container = memo(function Container() {\n  const [searchValue, setSearchValue] = useState();\n  const [currentWgInfo, setCurrentWgInfo] = useState();\n\n  return (\n    <>\n      <Dustbin />\n\n      <WidgetInfoComponent style={{ opacity: currentWgInfo ? 1 : 0 }}>\n        {currentWgInfo}\n      </WidgetInfoComponent>\n\n      <WidgetsToolBar>\n        <div className=\"input-wrapper\">\n          <input\n            type=\"search\"\n            id=\"search-input\"\n            placeholder=\"Search Widgets\"\n            className=\"search-wg-input\"\n            onChange={(e) => setSearchValue(e.target.value)}\n          />\n          <label htmlFor=\"search-input\" className=\"input-icon\">\n            <SearchIcon />\n          </label>\n        </div>\n\n        {toolBarCfg.map((t, i) => {\n          return (\n            <ToolbarRow\n              key={t.title}\n              toolData={t}\n              zIndex={50 - i}\n              searchValue={searchValue}\n              setCurrentWgInfo={setCurrentWgInfo}\n            />\n          );\n        })}\n      </WidgetsToolBar>\n    </>\n  );\n});\n\nconst WorkSpaceComp = styled.div`\n  width: calc(100% - 120px);\n  height: calc(100% - 60px);\n  position: relative;\n  z-index: 80;\n  background: #eee;\n  margin: 60px 0 0 0;\n`;\n\nconst AlertCont = styled.div`\n  position: fixed;\n  top: 10px;\n  z-index: 100;\n  animation: appearingBar 0.4s ease-in-out 0s 1 normal forwards;\n\n  @keyframes appearingBar {\n    0% {\n      right: -100px;\n    }\n    100% {\n      right: 70px;\n    }\n  }\n`;\n\nconst Workspace = () => {\n  const state = useSelector((state) => state.app);\n  const {\n    isOpenSideBar,\n    isSavedNewDataSetData,\n    isSavedNewParametersData,\n    isShownAlert,\n  } = state;\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <WorkSpaceComp\n        onClick={() => {\n          isOpenSideBar &&\n            dispatch(\n              isSavedNewDataSetData && isSavedNewParametersData\n                ? sideBarHandleOpen(false)\n                : dispatch(showAlert(true))\n            );\n        }}\n      >\n        <DndProvider backend={HTML5Backend}>\n          <Container />\n        </DndProvider>\n      </WorkSpaceComp>\n\n      {isShownAlert && (\n        <AlertCont>\n          <Alert severity=\"warning\">\n            {!isSavedNewParametersData && \"Please save new parameters set\"}\n            {!isSavedNewDataSetData && \"Please save new  data set\"}\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ margin: \"0 0 0 10px\" }}\n              onClick={() => {\n                dispatch(sideBarHandleOpen(false));\n                dispatch(showAlert(false));\n                dispatch(setNewDataSetState({}));\n                dispatch(savedNewDataSetSettings(true));\n                dispatch(savedNewParametersSetSettings(true));\n              }}\n            >\n              remove\n            </Button>\n          </Alert>\n        </AlertCont>\n      )}\n    </>\n  );\n};\n\nexport default Workspace;\n"]},"metadata":{},"sourceType":"module"}