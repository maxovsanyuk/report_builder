{"ast":null,"code":"var _jsxFileName = \"/Users/admin/UDS/addons-reportbuilder/src/components/Workspace/Workspace.js\";\nimport React, { memo, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Widget } from \"./Widget\";\nimport { Dustbin } from \"./Dustbin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { showAlert, sideBarHandleOpen, setNewDataSetState, savedNewDataSetSettings, savedNewParametersSetSettings } from \"../../redux/actions/app_action\";\nimport widgetsConfig from \"./helpers/widgetsConfig\"; // DND\n\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\"; // MATERIAL UI\n\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\nimport RemoveOutlinedIcon from \"@material-ui/icons/RemoveOutlined\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nconst WidgetsToolBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 165px;\n  max-width: 165px;\n  height: 100%;\n  position: absolute;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background: #fff;\n  left: -166px;\n  top: 0;\n  z-index: 80;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  .input-wrapper {\n    position: relative;\n    background: dodgerblue;\n    .input-icon {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-40%) scale(0.7);\n      right: 5px;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .search-wg-input {\n      width: 100%;\n      padding: 10px 25px 10px 10px;\n      border: none;\n      border-bottom: 1px solid #ccc;\n\n      &:focus {\n        outline: 0 solid #ccc;\n      }\n    }\n  }\n`;\nconst WidgetInfoComponent = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 150px;\n  height: 100px;\n  background: #fff;\n  box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.2);\n  border: 1px solid silver;\n  border-radius: 2px;\n  color: #000;\n  z-index: 90;\n  padding: 20px;\n  transition: 0.5s;\n`;\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: ${({\n  zIndex\n}) => zIndex};\n\n  .title-box {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: relative;\n    z-index: 90;\n    background: #fff;\n    transition: 0.3s;\n    margin: 0 0 2px 0;\n    &:hover {\n      transition: 0.3s;\n      background: gainsboro;\n      color: dodgerblue;\n      cursor: pointer;\n    }\n  }\n\n  .title {\n    font-size: 12px;\n    margin: 10px 0 10px 10px;\n  }\n\n  .btns-box {\n    margin: 0 5px 0 0;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .widgets-box {\n    display: ${({\n  isOpen\n}) => isOpen ? \"flex\" : \"none\"};\n    position: relative;\n    flex-wrap: wrap;\n    background: #fff;\n    margin: 0 0 0 12px;\n    animation: appearingComp 0.5s ease-in-out 0s 1 normal forwards;\n\n    @keyframes appearingComp {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        margin-top: 0;\n      }\n    }\n  }\n`;\n\nconst ToolbarRow = ({\n  toolData,\n  zIndex,\n  searchValue,\n  setCurrentWgInfo\n}) => {\n  var _toolData$widgetsList;\n\n  const [isOpen, setIsOpen] = useState(false);\n  useEffect(() => {\n    setIsOpen(!!searchValue);\n  }, [searchValue]);\n  return /*#__PURE__*/React.createElement(Row, {\n    zIndex: zIndex,\n    isOpen: isOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"title-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"sapn\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }\n  }, toolData === null || toolData === void 0 ? void 0 : toolData.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btns-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }\n  }, isOpen ? /*#__PURE__*/React.createElement(RemoveOutlinedIcon, {\n    onClick: () => setIsOpen(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(AddOutlinedIcon, {\n    onClick: () => setIsOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"widgets-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, toolData === null || toolData === void 0 ? void 0 : (_toolData$widgetsList = toolData.widgetsList) === null || _toolData$widgetsList === void 0 ? void 0 : _toolData$widgetsList.map((w, i) => {\n    var _w$name;\n\n    if (!searchValue) {\n      return /*#__PURE__*/React.createElement(Widget, {\n        key: w.name,\n        wgConfig: w,\n        setCurrentWgInfo: setCurrentWgInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }\n      });\n    }\n\n    return searchValue && (w === null || w === void 0 ? void 0 : (_w$name = w.name) === null || _w$name === void 0 ? void 0 : _w$name.startsWith(searchValue)) ? /*#__PURE__*/React.createElement(Widget, {\n      key: w.name,\n      name: w.name,\n      setCurrentWgInfo: setCurrentWgInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }) : null;\n  })));\n};\n\nconst Container = memo(function Container() {\n  const [searchValue, setSearchValue] = useState();\n  const [currentWgInfo, setCurrentWgInfo] = useState();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Dustbin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WidgetInfoComponent, {\n    style: {\n      opacity: currentWgInfo ? 1 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, currentWgInfo), /*#__PURE__*/React.createElement(WidgetsToolBar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"search\",\n    id: \"search-input\",\n    placeholder: \"Search Widgets\",\n    className: \"search-wg-input\",\n    onChange: e => setSearchValue(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"search-input\",\n    className: \"input-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }))), widgetsConfig.map((t, i) => {\n    return /*#__PURE__*/React.createElement(ToolbarRow, {\n      key: t.title,\n      toolData: t,\n      zIndex: 50 - i,\n      searchValue: searchValue,\n      setCurrentWgInfo: setCurrentWgInfo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 13\n      }\n    });\n  })));\n});\nconst WorkSpaceComp = styled.div`\n  width: calc(100% - 120px);\n  height: calc(100% - 60px);\n  position: relative;\n  z-index: 80;\n  background: #eee;\n  margin: 60px 0 0 0;\n`;\nconst AlertCont = styled.div`\n  position: fixed;\n  top: 10px;\n  z-index: 100;\n  animation: appearingBar 0.4s ease-in-out 0s 1 normal forwards;\n\n  @keyframes appearingBar {\n    0% {\n      right: -100px;\n    }\n    100% {\n      right: 70px;\n    }\n  }\n`;\n\nconst Workspace = () => {\n  const state = useSelector(state => state.app);\n  const {\n    isOpenSideBar,\n    isSavedNewDataSetData,\n    isSavedNewParametersData,\n    isShownAlert\n  } = state;\n  const dispatch = useDispatch();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(WorkSpaceComp, {\n    onClick: () => {\n      isOpenSideBar && dispatch(isSavedNewDataSetData && isSavedNewParametersData ? sideBarHandleOpen(false) : dispatch(showAlert(true)));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DndProvider, {\n    backend: HTML5Backend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }))), isShownAlert && /*#__PURE__*/React.createElement(AlertCont, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, !isSavedNewParametersData && \"Please save new parameters set\", !isSavedNewDataSetData && \"Please save new  data set\", /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    size: \"small\",\n    color: \"secondary\",\n    style: {\n      margin: \"0 0 0 10px\"\n    },\n    onClick: () => {\n      dispatch(sideBarHandleOpen(false));\n      dispatch(showAlert(false));\n      dispatch(setNewDataSetState({}));\n      dispatch(savedNewDataSetSettings(true));\n      dispatch(savedNewParametersSetSettings(true));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, \"remove\"))));\n};\n\nexport default Workspace;","map":{"version":3,"sources":["/Users/admin/UDS/addons-reportbuilder/src/components/Workspace/Workspace.js"],"names":["React","memo","useEffect","useState","styled","Widget","Dustbin","useDispatch","useSelector","showAlert","sideBarHandleOpen","setNewDataSetState","savedNewDataSetSettings","savedNewParametersSetSettings","widgetsConfig","DndProvider","HTML5Backend","AddOutlinedIcon","RemoveOutlinedIcon","Alert","Button","SearchIcon","WidgetsToolBar","div","WidgetInfoComponent","Row","zIndex","isOpen","ToolbarRow","toolData","searchValue","setCurrentWgInfo","setIsOpen","title","widgetsList","map","w","i","name","startsWith","Container","setSearchValue","currentWgInfo","opacity","e","target","value","t","WorkSpaceComp","AlertCont","Workspace","state","app","isOpenSideBar","isSavedNewDataSetData","isSavedNewParametersData","isShownAlert","dispatch","margin"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useState } from \"react\";\n\nimport styled from \"styled-components\";\n\nimport { Widget } from \"./Widget\";\nimport { Dustbin } from \"./Dustbin\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  showAlert,\n  sideBarHandleOpen,\n  setNewDataSetState,\n  savedNewDataSetSettings,\n  savedNewParametersSetSettings,\n} from \"../../redux/actions/app_action\";\n\nimport widgetsConfig from \"./helpers/widgetsConfig\";\n\n// DND\n\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\n// MATERIAL UI\n\nimport AddOutlinedIcon from \"@material-ui/icons/AddOutlined\";\nimport RemoveOutlinedIcon from \"@material-ui/icons/RemoveOutlined\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nconst WidgetsToolBar = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 165px;\n  max-width: 165px;\n  height: 100%;\n  position: absolute;\n  overflow-x: hidden;\n  overflow-y: auto;\n  background: #fff;\n  left: -166px;\n  top: 0;\n  z-index: 80;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  .input-wrapper {\n    position: relative;\n    background: dodgerblue;\n    .input-icon {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-40%) scale(0.7);\n      right: 5px;\n\n      &:hover {\n        cursor: pointer;\n      }\n    }\n\n    .search-wg-input {\n      width: 100%;\n      padding: 10px 25px 10px 10px;\n      border: none;\n      border-bottom: 1px solid #ccc;\n\n      &:focus {\n        outline: 0 solid #ccc;\n      }\n    }\n  }\n`;\n\nconst WidgetInfoComponent = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 150px;\n  height: 100px;\n  background: #fff;\n  box-shadow: 0 3px 3px -2px rgba(0, 0, 0, 0.2);\n  border: 1px solid silver;\n  border-radius: 2px;\n  color: #000;\n  z-index: 90;\n  padding: 20px;\n  transition: 0.5s;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  z-index: ${({ zIndex }) => zIndex};\n\n  .title-box {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: relative;\n    z-index: 90;\n    background: #fff;\n    transition: 0.3s;\n    margin: 0 0 2px 0;\n    &:hover {\n      transition: 0.3s;\n      background: gainsboro;\n      color: dodgerblue;\n      cursor: pointer;\n    }\n  }\n\n  .title {\n    font-size: 12px;\n    margin: 10px 0 10px 10px;\n  }\n\n  .btns-box {\n    margin: 0 5px 0 0;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  .widgets-box {\n    display: ${({ isOpen }) => (isOpen ? \"flex\" : \"none\")};\n    position: relative;\n    flex-wrap: wrap;\n    background: #fff;\n    margin: 0 0 0 12px;\n    animation: appearingComp 0.5s ease-in-out 0s 1 normal forwards;\n\n    @keyframes appearingComp {\n      0% {\n        opacity: 0;\n      }\n      100% {\n        margin-top: 0;\n      }\n    }\n  }\n`;\n\nconst ToolbarRow = ({ toolData, zIndex, searchValue, setCurrentWgInfo }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  useEffect(() => {\n    setIsOpen(!!searchValue);\n  }, [searchValue]);\n\n  return (\n    <Row zIndex={zIndex} isOpen={isOpen}>\n      <div className=\"title-box\">\n        <sapn className=\"title\">{toolData?.title}</sapn>\n\n        <div className=\"btns-box\">\n          {isOpen ? (\n            <RemoveOutlinedIcon onClick={() => setIsOpen(false)} />\n          ) : (\n            <AddOutlinedIcon onClick={() => setIsOpen(true)} />\n          )}\n        </div>\n      </div>\n\n      <div className=\"widgets-box\">\n        {toolData?.widgetsList?.map((w, i) => {\n          if (!searchValue) {\n            return (\n              <Widget\n                key={w.name}\n                wgConfig={w}\n                setCurrentWgInfo={setCurrentWgInfo}\n              />\n            );\n          }\n\n          return searchValue && w?.name?.startsWith(searchValue) ? (\n            <Widget\n              key={w.name}\n              name={w.name}\n              setCurrentWgInfo={setCurrentWgInfo}\n            />\n          ) : null;\n        })}\n      </div>\n    </Row>\n  );\n};\n\nconst Container = memo(function Container() {\n  const [searchValue, setSearchValue] = useState();\n  const [currentWgInfo, setCurrentWgInfo] = useState();\n\n  return (\n    <>\n      <Dustbin />\n\n      <WidgetInfoComponent style={{ opacity: currentWgInfo ? 1 : 0 }}>\n        {currentWgInfo}\n      </WidgetInfoComponent>\n\n      <WidgetsToolBar>\n        <div className=\"input-wrapper\">\n          <input\n            type=\"search\"\n            id=\"search-input\"\n            placeholder=\"Search Widgets\"\n            className=\"search-wg-input\"\n            onChange={(e) => setSearchValue(e.target.value)}\n          />\n          <label htmlFor=\"search-input\" className=\"input-icon\">\n            <SearchIcon />\n          </label>\n        </div>\n\n        {widgetsConfig.map((t, i) => {\n          return (\n            <ToolbarRow\n              key={t.title}\n              toolData={t}\n              zIndex={50 - i}\n              searchValue={searchValue}\n              setCurrentWgInfo={setCurrentWgInfo}\n            />\n          );\n        })}\n      </WidgetsToolBar>\n    </>\n  );\n});\n\nconst WorkSpaceComp = styled.div`\n  width: calc(100% - 120px);\n  height: calc(100% - 60px);\n  position: relative;\n  z-index: 80;\n  background: #eee;\n  margin: 60px 0 0 0;\n`;\n\nconst AlertCont = styled.div`\n  position: fixed;\n  top: 10px;\n  z-index: 100;\n  animation: appearingBar 0.4s ease-in-out 0s 1 normal forwards;\n\n  @keyframes appearingBar {\n    0% {\n      right: -100px;\n    }\n    100% {\n      right: 70px;\n    }\n  }\n`;\n\nconst Workspace = () => {\n  const state = useSelector((state) => state.app);\n  const {\n    isOpenSideBar,\n    isSavedNewDataSetData,\n    isSavedNewParametersData,\n    isShownAlert,\n  } = state;\n  const dispatch = useDispatch();\n\n  return (\n    <>\n      <WorkSpaceComp\n        onClick={() => {\n          isOpenSideBar &&\n            dispatch(\n              isSavedNewDataSetData && isSavedNewParametersData\n                ? sideBarHandleOpen(false)\n                : dispatch(showAlert(true))\n            );\n        }}\n      >\n        <DndProvider backend={HTML5Backend}>\n          <Container />\n        </DndProvider>\n      </WorkSpaceComp>\n\n      {isShownAlert && (\n        <AlertCont>\n          <Alert severity=\"warning\">\n            {!isSavedNewParametersData && \"Please save new parameters set\"}\n            {!isSavedNewDataSetData && \"Please save new  data set\"}\n            <Button\n              variant=\"contained\"\n              size=\"small\"\n              color=\"secondary\"\n              style={{ margin: \"0 0 0 10px\" }}\n              onClick={() => {\n                dispatch(sideBarHandleOpen(false));\n                dispatch(showAlert(false));\n                dispatch(setNewDataSetState({}));\n                dispatch(savedNewDataSetSettings(true));\n                dispatch(savedNewParametersSetSettings(true));\n              }}\n            >\n              remove\n            </Button>\n          </Alert>\n        </AlertCont>\n      )}\n    </>\n  );\n};\n\nexport default Workspace;\n"]},"metadata":{},"sourceType":"module"}